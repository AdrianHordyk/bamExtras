x3lo <- tidyr::pivot_longer(x2lo,cols=!year,names_to="fleet",values_to="index")
x3up <- tidyr::pivot_longer(x2up,cols=!year,names_to="fleet",values_to="index")
x3
x3lo
x2 <- cbind("year"=rownames(x2),x2,sd2)
x2
dfout <- vc_out$dfout
x2 <- cbind(x,"combined"=dfout$mu)
sd <- x*cv
sd2 <- cbind(cv,"combined"=dfout$sd)
x2lo <- x2-2*sd2
names(x2lo) <- paste0(names(x2lo),".lo")
x2up <- x2+2*sd2
names(x2up) <- paste0(names(x2up),".up")
x2 <- cbind("year"=rownames(x2),x2,sd2)
x2
# plot original indices and resulting index (with ggplot, to be hip)
dfout <- vc_out$dfout
x2 <- cbind(x,"combined"=dfout$mu)
sd <- x*cv
sd2 <- cbind(cv,"combined"=dfout$sd)
names(sd2) <- gsub("^cv","sd",names(sd2))
x2lo <- x2-2*sd2
names(x2lo) <- paste0(names(x2lo),".lo")
x2up <- x2+2*sd2
names(x2up) <- paste0(names(x2up),".up")
x2 <- cbind("year"=rownames(x2),x2,sd2)
x2
dfout <- vc_out$dfout
x2 <- cbind(x,"combined"=dfout$mu)
sd <- x*cv
sd2 <- cbind(cv,"sd.combined"=dfout$sd)
names(sd2) <- gsub("^cv","sd",names(sd2))
x2lo <- x2-2*sd2
names(x2lo) <- paste0(names(x2lo),".lo")
x2up <- x2+2*sd2
names(x2up) <- paste0(names(x2up),".up")
x2 <- cbind("year"=rownames(x2),x2,sd2)
x2
# plot original indices and resulting index (with ggplot, to be hip)
dfout <- vc_out$dfout
x2 <- cbind(x,"combined"=dfout$mu)
sd <- x*cv
sd2 <- cbind(cv,"sd.combined"=dfout$sd)
names(sd2) <- gsub("^cv","sd",names(sd2))
x2lo <- x2-2*sd2
names(x2lo) <- paste0(names(x2lo),".lo")
x2up <- x2+2*sd2
names(x2up) <- paste0(names(x2up),".up")
x2 <- cbind("year"=rownames(x2),x2)
x2
sd2
# plot original indices and resulting index (with ggplot, to be hip)
dfout <- vc_out$dfout
x2 <- cbind(x,"combined"=dfout$mu)
sd <- x*cv
sd2 <- cbind(cv,"sd.combined"=dfout$sd)
names(sd2) <- gsub("^cv","sd",names(sd2))
x2lo <- x2-2*sd2
names(x2lo) <- paste0(names(x2lo),".lo")
x2up <- x2+2*sd2
names(x2up) <- paste0(names(x2up),".up")
x2 <- cbind("year"=rownames(x2),x2)
x2up <- cbind("year"=rownames(x2up),x2up)
x2lo <- cbind("year"=rownames(x2lo),x2lo)
x3 <- tidyr::pivot_longer(x2,cols=!year,names_to="fleet",values_to="index")
sd3 <- tidyr::pivot_longer(x2,cols=!year,names_to="fleet",values_to="sd")
x3
sd3
sd3 <- tidyr::pivot_longer(sd2,cols=!year,names_to="fleet",values_to="sd")
# plot original indices and resulting index (with ggplot, to be hip)
dfout <- vc_out$dfout
x2 <- cbind(x,"combined"=dfout$mu)
sd <- x*cv
sd2 <- cbind(cv,"sd.combined"=dfout$sd)
names(sd2) <- gsub("^cv","sd",names(sd2))
x2lo <- x2-2*sd2
names(x2lo) <- paste0(names(x2lo),".lo")
x2up <- x2+2*sd2
names(x2up) <- paste0(names(x2up),".up")
x2 <- cbind("year"=rownames(x2),x2)
sd2 <- cbind("year"=rownames(sd2),sd2)
x3 <- tidyr::pivot_longer(x2,cols=!year,names_to="fleet",values_to="index")
sd3 <- tidyr::pivot_longer(sd2,cols=!year,names_to="fleet",values_to="sd")
sd3
merge(x3,sd3,by=c("year","fleet"))
x3
# plot original indices and resulting index (with ggplot, to be hip)
dfout <- vc_out$dfout
x2 <- cbind(x,"combined"=dfout$mu)
sd <- x*cv
sd2 <- cbind(cv,"combined"=dfout$sd)
names(sd2) <- gsub("^cv.","",names(sd2))
x2lo <- x2-2*sd2
names(x2lo) <- paste0(names(x2lo),".lo")
x2up <- x2+2*sd2
names(x2up) <- paste0(names(x2up),".up")
x2 <- cbind("year"=rownames(x2),x2)
sd2 <- cbind("year"=rownames(sd2),sd2)
x3 <- tidyr::pivot_longer(x2,cols=!year,names_to="fleet",values_to="index")
sd3 <- tidyr::pivot_longer(sd2,cols=!year,names_to="fleet",values_to="sd")
merge(x3,sd3,by=c("year","fleet"))
?aes
p <- ggplot(x3, aes(x=year, y=index,color=fleet)) +
geom_line() +
geom_point()#+
# geom_errorbar(aes(ymin=mu-sd, ymax=mu+sd), width=.2,
#               position=position_dodge(0.05))
# Finished line plot
p + labs(title="combined indices", x="year", y = "index of abundance")+
theme_classic()
# plot original indices and resulting index (with ggplot, to be hip)
dfout <- vc_out$dfout
x2 <- cbind(x,"combined"=dfout$mu)
sd <- x*cv
sd2 <- cbind(cv,"combined"=dfout$sd)
names(sd2) <- gsub("^cv.","",names(sd2))
x2lo <- x2-2*sd2
names(x2lo) <- paste0(names(x2lo),".lo")
x2up <- x2+2*sd2
names(x2up) <- paste0(names(x2up),".up")
x2 <- cbind("year"=rownames(x2),x2)
sd2 <- cbind("year"=rownames(sd2),sd2)
x3 <- tidyr::pivot_longer(x2,cols=!year,names_to="fleet",values_to="index")
sd3 <- tidyr::pivot_longer(sd2,cols=!year,names_to="fleet",values_to="sd")
x4 <- merge(x3,sd3,by=c("year","fleet"))
p <- ggplot(x4, aes(x=year, y=index, color=fleet)) +
geom_line() +
geom_point()#+
# geom_errorbar(aes(ymin=mu-sd, ymax=mu+sd), width=.2,
#               position=position_dodge(0.05))
# Finished line plot
p + labs(title="combined indices", x="year", y = "index of abundance")+
theme_classic()
x4 <- na.omit(merge(x3,sd3,by=c("year","fleet")))
p <- ggplot(x4, aes(x=year, y=index, color=fleet)) +
geom_line() +
geom_point()#+
# geom_errorbar(aes(ymin=mu-sd, ymax=mu+sd), width=.2,
#               position=position_dodge(0.05))
# Finished line plot
p + labs(title="combined indices", x="year", y = "index of abundance")+
theme_classic()
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet)) +
geom_line() +
geom_point()#+
# geom_errorbar(aes(ymin=mu-sd, ymax=mu+sd), width=.2,
#               position=position_dodge(0.05))
# Finished line plot
p + labs(title="combined indices", x="year", y = "index of abundance")+
theme_classic()
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet)) +
geom_line() +
geom_point()#+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=.2,
position=position_dodge(0.05))
# Finished line plot
p + labs(title="combined indices", x="year", y = "index of abundance")+
theme_classic()
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=.2,
position=position_dodge(0.05))
# Finished line plot
p + labs(title="combined indices", x="year", y = "index of abundance")+
theme_classic()
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=.2,
position=position_dodge(0.05))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","purple"))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=.5,
position=position_dodge(0.1))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","purple"))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=.5,
position=position_dodge(0.1))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","purple")) +
scale_linetype_manual(values=c(2,2,1))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=.5,
position=position_dodge(0.1))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","purple")) +
scale_linetype_manual(values=c("dashed","dashed","solid"))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=.5,
position=position_dodge(0.1)) +
scale_linetype_manual(values=c("dashed","dashed","solid"))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","purple"))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=.5,
position=position_dodge(0.1))
# Finished line plot
p +
# labs(title="indices of abundance", x="year", y = "index of abundance") +
# theme_classic() +
scale_color_manual(values=c("red","blue","purple")) +
scale_linetype_manual(values=c("dashed","dashed","solid"))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet), linetype=fleet) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=.5,
position=position_dodge(0.1))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","purple")) +
scale_linetype_manual(values=c("dashed","dashed","solid"))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet, linetype=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=.5,
position=position_dodge(0.1))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","purple")) +
scale_linetype_manual(values=c("dashed","dashed","solid"))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet, linewidth=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=.5,
position=position_dodge(0.1))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","purple")) +
scale_linewidth_manual(values=c(1,1,2))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet, size=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=.5,
position=position_dodge(0.1))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","purple")) +
scale_size_manual(values=c(1,1,2))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet, linewidth=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=.5,
position=position_dodge(0.1))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","purple")) +
scale_size_manual(values=c(1,1,2))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet)) +
geom_line(lwd=c(1,1,2)) +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=.5,
position=position_dodge(0.1))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","purple"))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet)) +
geom_line(lwd=2) +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=.5,
position=position_dodge(0.1))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","purple"))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet,size=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=.5,
position=position_dodge(0.1))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","purple")) +
scale_linetype_manual(values=c("dashed","dashed")) +
scale_size_manual(values=c(0.5,0.5,1))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet, size=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=.5,
position=position_dodge(0.1))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","purple")) +
scale_linetype_manual(values=c("dashed","dashed")) +
scale_size_manual(values=c(0.5,0.5,1.5))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet, size=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=.5,
position=position_dodge(0.2))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","purple")) +
scale_linetype_manual(values=c("dashed","dashed")) +
scale_size_manual(values=c(0.5,0.5,1.5))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet, size=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=.5,
position=position_dodge(0.2))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","purple")) +
scale_linetype_manual(values=c("dashed","dashed")) +
scale_size_manual(values=c(1,1,2))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet, size=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=1,
position=position_dodge(0.2))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","purple")) +
scale_linetype_manual(values=c("dashed","dashed")) +
scale_size_manual(values=c(1,1,2))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet, size=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=1,
position=position_dodge(0.2))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","black")) +
scale_linetype_manual(values=c("dashed","dashed")) +
scale_size_manual(values=c(1,1,1.5))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet, size=fleet)) +
geom_line(lwd=2) +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=1,
position=position_dodge(0.2))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","black")) +
scale_linetype_manual(values=c("dashed","dashed")) +
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet)) +
geom_line(lwd=2) +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=1,
position=position_dodge(0.2))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","black")) +
scale_linetype_manual(values=c("dashed","dashed"))
x4 <- na.omit(merge(x3,sd3,by=c("year","fleet")))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet)) +
geom_line(lwd=2) +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=1,
position=position_dodge(0.2))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","black")) +
scale_linetype_manual(values=c("dashed","dashed"))
x4 <- na.omit(merge(x3,sd3,by=c("year","fleet")))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet,linetype=fleet)) +
geom_line(lwd=2) +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=1,
position=position_dodge(0.2))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("red","blue","black")) +
scale_linetype_manual(values=c("dashed","dashed","solid"))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet,linetype=fleet)) +
geom_line(lwd=2) +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=1,
position=position_dodge(0.2))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("black","red","blue")) +
scale_linetype_manual(values=c("solid","dashed","dashed"))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet,linetype=fleet,size=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=1,
position=position_dodge(0.2))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("black","red","blue")) +
scale_linetype_manual(values=c("solid","dashed","dashed")) +
scale_size_manual(values=c(1,0.5,0.5))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet,linetype=fleet,size=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=1,
position=position_dodge(0.2))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("black","red","blue")) +
scale_linetype_manual(values=c("solid","solid","solid")) +
scale_size_manual(values=c(1,0.5,0.5))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet,linetype=fleet,size=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=1,
position=position_dodge(0.2))
# Finished line plot
p +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("black","red","blue")) +
scale_linetype_manual(values=c("solid","dashed","dashed")) +
scale_size_manual(values=c(1,0.5,0.5))
p <- ggplot(x4, aes(x=year, y=index, group=fleet, color=fleet,linetype=fleet,size=fleet)) +
geom_line() +
geom_point()+
geom_errorbar(aes(ymin=index-2*sd, ymax=index+2*sd), width=1, position=position_dodge(0.2)) +
labs(title="indices of abundance", x="year", y = "index of abundance") +
theme_classic() +
scale_color_manual(values=c("black","red","blue")) +
scale_linetype_manual(values=c("solid","dashed","dashed")) +
scale_size_manual(values=c(1,0.5,0.5))
p
source("~/GitHub/myPackages/bamExtras/TEST_FOLDER/vector_combine/test.r", echo=TRUE)
source("~/GitHub/myPackages/bamExtras/R/vector_combine.r", echo=TRUE)
source("~/GitHub/myPackages/bamExtras/TEST_FOLDER/vector_combine/test.r", echo=TRUE)
source("~/GitHub/myPackages/bamExtras/R/vector_combine.r", echo=TRUE)
source("~/GitHub/myPackages/bamExtras/TEST_FOLDER/vector_combine/example.r", echo=TRUE)
library(bamExtras)
library(bamExtras)
?tempdir
tmpdir
tempdir
USERPROFILE
Sys.getenv()
?Sys.getenv(
?Sys.getenv
list.files(USERPROFILE)
list.files("USERPROFILE")
?list.files
list.file()
list.files()
getwd()
list.files(HOME)
list.files(Sys.getenv("HOME"))
Sys.getenv("HOME")
Sys.getenv("USERPROFILE")
list.files(Sys.getenv("USERPROFILE"))
Sys.getenv()
class(Sys.getenv())
class?Dlist
?Dlist
list.files(Sys.getenv("TEMP"))
Sys.getenv()
